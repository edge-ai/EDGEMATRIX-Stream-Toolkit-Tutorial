概要
==================================

    .. image:: images/overview/edge_ai_service.png
       :align: center


EdgeStream SDKは、`EdgeMatrix, Inc <https://edgematrix.com/>`_ (EMI)が提供するソフトウェア開発キット (Software Development Kit, SDK)です。
以下のような用途でご使用いただけます。::

    EdgeStream SDKは、様々な機能がインストールされたSDKボックスです。AI開発者は、このSDKを用いて以下のようなことを行えます。
        - EdgeStreamアプリケーションパッケージ (EdgeStream Application Package, EAP)の作成
        - ローカルのテスト環境での実行
        - EAPの公開とEMIマーケットプレイスでの販売

SDKボックスやEAP、EMIマーケットプレイスなどの用語について疑問が浮かんだことでしょう。

これらの用語については後ほど詳しく説明しますが、このSDKはAI開発者向けの製品であることを今一度ご確認ください。

学習済モデルは、現場で実際に使用される前に、アプリケーションとして開発され、モニタリングサービスに統合される必要があります。
特に、EMIはビデオストリーミング技術が必要なIVA (Intelligent Video Analytics)タスクに注目しています。
例えば、`GStreamer <https://gstreamer.freedesktop.org/>`_ はストリーミング技術の中で最も親しまれているライブラリですが、AI開発とは完全に異なる製品です。

しかし、このような学習済モデルに関する製品が、最も価値のある知的財産であると考えています。

そのため、EMIはAI開発者がAIモデルの開発に集中できるようにするためのエッジAIサービスを提供します。
このような貴重なアセットは、エンドユーザ向けサービスに動的に統合できるEAPによって利用されます。
また、EMIは、この先エンドユーザと様々なインタラクションを行っていく予定です。

EMIのエッジAIサービスについての概要は以上です。

==========================================
SDKボックス
==========================================

EMIは、`AI Box <https://edgematrix.com/business/box/>`_ と呼ばれるエッジサービスを搭載したエンドトゥエンドサービスを提供します。

SDKボックスは、AI開発者向けに構築されたEdgeStream SDKに付属するAIボックスの一種です。

詳細については、弊社営業までお問い合わせください。

==========================================
EdgeStream
==========================================

EdgeStreamは、EMIのコアストリーミングエンジンであり、以下のような特徴を持ちます。

#. NVIDIAのDeepStream GStreamerプラグイン上で動作する。
#. EMIのエッジAIサービスに統合される。

これは、EdgeStreamの概要図です。

    .. image:: images/overview/edgestream_concept.png
       :align: center

ご覧の通り、EdgeStreamは、パフォーマンス面においてNVIDIAのDeepStreamに依存しています。
そして、その上で、EdgeStreamはエッジAI開発に必要なパフォーマンスと効率を提供します。

次に、EdgeStreamの技術的な概要を提示します。

    .. image:: images/overview/edgestream_component.png
       :align: center

1つのEdgeStreamは、以下の3つのコンポーネントから構成されます。

#. EdgeStreamアプリケーションパッケージ
#. EdgeStreamコントローラ
#. EdgeStreamパイプライン

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
EdgeStreamアプリケーションパッケージ
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

EdgeStreamアプリケーションパッケージは、以下のもので構成される、認証されたデバイスの公開鍵を持つ暗号化されたファイルです。

* 設定ファイル
* ユーザ定義のコールバック関数をもつPythonファイル
* AIモデルなどのその他のファイルから構成されるリソースフォルダ

設定ファイルには、このアプリケーションパッケージの様々な情報だけでなく、イベントアイテム定義が記載されます。

Pythonファイルのコールバック関数は、EdgeStreamパイプラインからシグナルが生成されたときに呼ばれ、イベント定義によって定義されたイベントを発生させます。

EdgeStreamパイプラインは、リソースフォルダを参照し、設定ファイルで定義された情報をもとに構築されます。

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
EdgeStreamコントローラ
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

EdgeStreamコントローラは、設定ファイルをもとにEdgeStreamパイプラインを作成するコントローラクラスです。
シグナルが生成されたとき、コールバック関数を呼んだり、イベントを受け取ったり、アクションを実行したりします。

どの種類のイベントが発生するかはアプリケーションによりますが、どのアクションが実行されるかはエンドユーザによります。

そのため、エンドユーザは設定ファイルを利用してそれらのイベントのアクションルールを定義することができます。

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
EdgeStreamパイプライン
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

EdgeStreamパイプラインは、GStreamerサーバプロセスの中で走るGStreamerパイプラインです。

サーバプロセスの中で複数のパイプラインを走らせることにより、RTSPやデコーダ、エンコーダのような共通の要素を効率的に共有することができます。

このアーキテクチャは、複数のWebRTCクライアントを同じストリームに接続するときにクリティカルであることに気づくでしょう。

また、目標として、2つの先見性のあるパイプラインがあります。

1. 1つのEdgeStreamパイプラインが複数のAI開発者によって構成される。

    .. image:: images/overview/multiple_ai_vendors.png
       :align: center

2. 1つの4K RTSPストリームがいくつかのEdgeStreamパイプラインの間で共有される。

    .. image:: images/overview/4K_multiple_edgestreams.png
       :align: center
